<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sheriff Game - Phaser</title>
  <link rel="stylesheet" href="game.css" />
</head>
<body>
  <div class="game-wrapper">
    <h1 class="game-title">Sheriff â€“ Phaser demo</h1>
    <p class="game-hint">WASD move Â· Near NPC: <kbd>E</kbd> to speak Â· <kbd>N</kbd> Notebook Â· Accuse when you know the killer</p>
    <div id="game-container">
      <!-- Dialog popup (inside game container so it overlays canvas) -->
      <div id="dialog-overlay" class="overlay" hidden>
        <div class="dialog-card">
          <div class="dialog-header">
            <span id="dialog-npc-name">â€”</span>
            <button type="button" class="btn-close" id="dialog-close" aria-label="Close">Ã—</button>
          </div>
          <div class="dialog-log" id="dialog-log"></div>
          <div class="dialog-reply" id="dialog-reply"></div>
          <div class="dialog-choices-wrap choices">
            <button type="button" class="choice-btn" data-choice="0">Where were you last night?</button>
            <button type="button" class="choice-btn" data-choice="1">Did you see anything suspicious?</button>
            <button type="button" class="choice-btn" data-choice="2">Do you know the other guests?</button>
          </div>
          <div class="dialog-actions">
            <button type="button" class="btn-accuse" id="accuse-btn">Accuse this person of being the killer</button>
            <button type="button" class="btn-save-note" id="save-to-notebook">Save last reply to notebook</button>
            <button type="button" class="btn-close-dialog" id="dialog-close-btn">Close</button>
          </div>
        </div>
      </div>
      <!-- Notebook popup -->
      <div id="notebook-overlay" class="overlay" hidden>
        <div class="notebook-card">
          <div class="notebook-header">
            <span>Notebook</span>
            <button type="button" class="btn-close" id="notebook-close" aria-label="Close">Ã—</button>
          </div>
          <ul id="notebook-list" class="notebook-list"></ul>
          <div class="notebook-actions">
            <button type="button" class="btn-clear-last" id="clear-last-note">Clear last note</button>
            <button type="button" class="btn-close-dialog" id="notebook-close-btn">Close</button>
          </div>
        </div>
      </div>
      <!-- Game end (win/lose) -->
      <div id="game-end-overlay" class="overlay game-end-overlay" hidden>
        <div class="game-end-card">
          <h2 id="game-end-title">â€”</h2>
          <button type="button" class="btn-play-again" id="play-again-btn">Play again</button>
        </div>
      </div>
    </div>
    <button type="button" class="btn-notebook-fab" id="open-notebook-fab" title="Open notebook (N)">ðŸ““</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/phaser@3.70.0/dist/phaser.min.js"></script>
  <script src="game.js"></script>
</body>
</html>
